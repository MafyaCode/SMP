<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPA Kelas 9 | Bab 1: Pertumbuhan & Perkembangan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2563eb; /* blue-600 */
            --primary-hover: #1d4ed8; /* blue-700 */
            --background-color: #f8fafc; /* slate-50 */
            --card-background: #ffffff;
            --text-primary: #1e293b; /* slate-800 */
            --text-secondary: #475569; /* slate-600 */
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-primary);
            line-height: 1.7;
        }
        .content-card {
            background-color: var(--card-background);
            border-radius: 1rem;
            padding: 2.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            border: 1px solid #e2e8f0;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .content-card.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .quiz-option {
            transition: background-color 0.2s, border-color 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover {
            background-color: #eff6ff;
        }
        .quiz-option.correct {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        .quiz-option.incorrect {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .answer-explanation {
            background-color: #f0f9ff;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
        }
        #back-to-top {
            transition: opacity 0.3s, transform 0.3s;
        }
        .fact-box, .learning-objective, .case-study {
            border: 1px solid #e2e8f0;
            border-left-width: 4px;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
        }
        .fact-box {
             background-color: #fefce8;
             border-left-color: #facc15;
        }
        .case-study {
            background-color: #f0fdf4;
            border-left-color: #22c55e;
        }
        .learning-objective {
            background-color: #eff6ff;
            border-left-color: #3b82f6;
        }
        details > summary {
            list-style: none;
            cursor: pointer;
            font-weight: 600;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
        }
        .timeline::after {
            content: '';
            position: absolute;
            width: 3px;
            background-color: #e2e8f0;
            top: 0;
            bottom: 0;
            left: 20px;
        }
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 100%;
            padding-left: 50px;
            padding-right: 25px;
        }
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 15px;
            height: 15px;
            right: auto;
            background-color: white;
            border: 3px solid var(--primary-color);
            top: 22px;
            left: 13px;
            border-radius: 50%;
            z-index: 1;
        }
        .timeline-content {
            padding: 15px;
            background-color: #f1f5f9;
            position: relative;
            border-radius: 6px;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header class="bg-white/90 backdrop-blur-lg sticky top-0 z-50 border-b border-slate-200">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="text-xl font-bold text-blue-600">
                Ilmu Pengetahuan Alam
            </div>
            <div class="hidden md:flex space-x-8 items-center">
                <a href="#materi" class="text-slate-600 hover:text-blue-600 transition-colors duration-300">Materi</a>
                <a href="#rangkuman" class="text-slate-600 hover:text-blue-600 transition-colors duration-300">Rangkuman</a>
                <a href="#quiz" class="text-slate-600 hover:text-blue-600 transition-colors duration-300">Quiz</a>
                <a href="#latihan" class="bg-blue-600 text-white px-5 py-2 rounded-full hover:bg-blue-700 transition-colors duration-300 text-sm font-medium">Latihan</a>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="text-slate-600 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-slate-200">
            <a href="#materi" class="block py-3 px-6 text-sm hover:bg-slate-100">Materi</a>
            <a href="#rangkuman" class="block py-3 px-6 text-sm hover:bg-slate-100">Rangkuman</a>
            <a href="#quiz" class="block py-3 px-6 text-sm hover:bg-slate-100">Quiz</a>
            <a href="#latihan" class="block py-3 px-6 text-sm hover:bg-slate-100">Latihan</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">

        <!-- Title Section -->
        <section class="text-center mb-20">
            <p class="text-base font-semibold text-blue-600 tracking-wide">Bab 1</p>
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mt-2 mb-4">Pertumbuhan dan Perkembangan</h1>
            <p class="text-lg text-slate-600 max-w-3xl mx-auto">Mempelajari siklus hidup menakjubkan dari manusia, hewan, dan tumbuhan.</p>
        </section>

        <!-- Materi Section -->
        <section id="materi" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-12">Materi Pembelajaran IPA BAB 1</h2>

            <!-- Materi Manusia -->
            <div class="content-card">
                <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-blue-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" /></svg>
                    Pertumbuhan dan Perkembangan Manusia
                </h3>
                <div class="space-y-6 text-slate-700 max-w-prose mx-auto">
                    <p>Dalam biologi, kita membedakan dua proses utama: <strong>Pertumbuhan</strong> (pertambahan ukuran fisik yang terukur) dan <strong>Perkembangan</strong> (pematangan fungsi organ yang kualitatif).</p>
                    
                    <div class="aspect-w-16 aspect-h-9 my-6">
                        <iframe src="https://www.youtube.com/embed/SbYm2YAeGi8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded-lg shadow-md"></iframe>
                    </div>

                    <h4 class="font-semibold text-lg text-slate-800 pt-4 border-t">Siklus Hidup Manusia</h4>
                    <div class="timeline mt-6">
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h5 class="font-bold">Tahap Pranatal</h5>
                                <p class="text-sm">Dari pembuahan (fertilisasi) hingga menjadi janin yang siap lahir.</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h5 class="font-bold">Bayi (0-2 tahun)</h5>
                                <p class="text-sm">Pertumbuhan fisik dan otak sangat pesat. Mengembangkan kemampuan motorik dasar.</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h5 class="font-bold">Kanak-kanak (2-11 tahun)</h5>
                                <p class="text-sm">Perkembangan bahasa dan sosial sangat aktif.</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h5 class="font-bold">Remaja/Pubertas (11-20 tahun)</h5>
                                <p class="text-sm">Pematangan organ reproduksi dan perubahan ciri seksual sekunder.</p>
                            </div>
                        </div>
                         <div class="timeline-item">
                            <div class="timeline-content">
                                <h5 class="font-bold">Dewasa (>20 tahun)</h5>
                                <p class="text-sm">Pertumbuhan fisik berhenti, mencapai puncak kematangan.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Materi Hewan -->
            <div class="content-card">
                 <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-green-500" viewBox="0 0 20 20" fill="currentColor"><path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.52 4.675a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.52 4.675c.3.921-.755 1.688-1.54 1.118l-3.976-2.888a1 1 0 00-1.175 0l-3.976 2.888c-.784.57-1.838-.197-1.539-1.118l1.52-4.675a1 1 0 00-.363-1.118L.49 9.102c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.52-4.675z" /></svg>
                    Pertumbuhan dan Perkembangan Hewan
                </h3>
                <div class="space-y-6 text-slate-700 max-w-prose mx-auto">
                    <div class="aspect-w-16 aspect-h-9 my-6">
                        <iframe src="https://www.youtube.com/embed/TXliYcif3n8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded-lg shadow-md"></iframe>
                    </div>
                    
                    <h4 class="font-semibold text-lg text-slate-800 pt-4 border-t">Metamorfosis</h4>
                    <p>Perubahan bentuk tubuh dari fase muda ke dewasa.</p>
                    
                    <!-- Diagram Metamorfosis -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                        <div class="border p-4 rounded-lg bg-slate-50">
                            <h5 class="font-bold text-center">Sempurna (Kupu-kupu)</h5>
                            <div class="flex items-center justify-between text-sm mt-4 text-center">
                                <div><div class="p-2 bg-white rounded-full shadow-sm">🥚</div>Telur</div>
                                <div class="text-slate-400">→</div>
                                <div><div class="p-2 bg-white rounded-full shadow-sm">🐛</div>Larva</div>
                                <div class="text-slate-400">→</div>
                                <div><div class="p-2 bg-white rounded-full shadow-sm">⚪</div>Pupa</div>
                                <div class="text-slate-400">→</div>
                                <div><div class="p-2 bg-white rounded-full shadow-sm">🦋</div>Imago</div>
                            </div>
                        </div>
                        <div class="border p-4 rounded-lg bg-slate-50">
                            <h5 class="font-bold text-center">Tidak Sempurna (Belalang)</h5>
                             <div class="flex items-center justify-around text-sm mt-4 text-center">
                                <div><div class="p-2 bg-white rounded-full shadow-sm">🥚</div>Telur</div>
                                <div class="text-slate-400">→</div>
                                <div><div class="p-2 bg-white rounded-full shadow-sm">🦗</div>Nimfa</div>
                                <div class="text-slate-400">→</div>
                                <div><div class="p-2 bg-white rounded-full shadow-sm">🦗</div>Imago</div>
                            </div>
                        </div>
                    </div>
                    <div class="fact-box">
                        <p><strong class="font-semibold">💡 Tahukah Kamu?</strong> Larva dan imago pada metamorfosis sempurna seringkali tidak bersaing untuk makanan. Ulat memakan daun, sementara kupu-kupu menghisap nektar. Ini adalah strategi bertahan hidup yang cerdas!</p>
                    </div>
                </div>
            </div>

            <!-- Materi Tumbuhan -->
            <div class="content-card">
                <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-teal-500" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 4.293a1 1 0 011.414 0l.707.707a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.212.217 5.002 5.002 0 00-5.85-5.85 1 1 0 01.217-1.212L15.172 1.5a1 1 0 011.414 0l.707.707a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.212.217 5.002 5.002 0 00-5.85-5.85 1 1 0 01.217-1.212L12.828.293a1 1 0 011.414 0l.707.707a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.212.217 5.002 5.002 0 00-5.85-5.85 1 1 0 01.217-1.212L8.243 1.5a1 1 0 011.414 0l.707.707a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.212.217 5.002 5.002 0 00-5.85-5.85 1 1 0 01.217-1.212L4.657.293a1 1 0 011.414 0l.707.707a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.212.217 5.002 5.002 0 00-5.85-5.85 1 1 0 01.217-1.212L1.293 1.5a1 1 0 011.414 0l.707.707a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.212.217 5.002 5.002 0 00-5.85-5.85 1 1 0 01.217-1.212L.293 4.293a1 1 0 010-1.414l.707-.707a1 1 0 011.414 0l1.586 1.586a1 1 0 01-.217 1.212 5.002 5.002 0 005.85 5.85 1 1 0 011.212.217L12.121 10l-2.828 2.828-1.707-1.707a1 1 0 00-1.414 1.414l2.414 2.414a1 1 0 001.414 0L15.586 9.414a1 1 0 00-1.414-1.414L12.464 9.707a3.001 3.001 0 01-4.171-4.171l.293-.293a1 1 0 00-1.414-1.414l-.293.293a5.001 5.001 0 007.071 7.071l2.829-2.829a1 1 0 000-1.414z" /></svg>
                    Pertumbuhan dan Perkembangan Tumbuhan
                </h3>
                 <div class="space-y-6 text-slate-700 max-w-prose mx-auto">
                    <div class="aspect-w-16 aspect-h-9 my-6">
                        <iframe src="https://www.youtube.com/embed/ZzQf7f_S3QM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded-lg shadow-md"></iframe>
                    </div>
                    
                    <h4 class="font-semibold text-lg text-slate-800 pt-4 border-t">Jaringan Meristem: Pabrik Pertumbuhan</h4>
                    <p>Pertumbuhan pada tumbuhan terjadi berkat jaringan meristem, yaitu jaringan sel yang aktif membelah.</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Meristem Apikal:</strong> Terdapat di ujung akar dan ujung batang. Bertanggung jawab untuk <strong>pertumbuhan primer</strong> (membuat tanaman lebih tinggi/panjang).</li>
                        <li><strong>Meristem Lateral (Kambium):</strong> Terdapat di sekeliling batang. Bertanggung jawab untuk <strong>pertumbuhan sekunder</strong> (membuat batang lebih lebar/besar).</li>
                    </ul>
                    <div class="fact-box">
                        <p><strong class="font-semibold">💡 Tahukah Kamu?</strong> Lingkaran tahun pada batang pohon terbentuk karena aktivitas kambium yang berbeda antara musim hujan (pertumbuhan cepat, lapisan lebar dan terang) dan musim kemarau (pertumbuhan lambat, lapisan sempit dan gelap).</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Rangkuman Section -->
        <section id="rangkuman" class="mb-20">
             <div class="content-card bg-blue-50 border border-blue-200">
                <h2 class="text-3xl font-bold text-center mb-6">Rangkuman Materi</h2>
                <ul class="space-y-4 text-slate-800">
                    <li class="flex items-start"><span class="mr-3 text-blue-600 font-bold">1.</span><span><strong>Manusia:</strong> Pertumbuhan (fisik, terukur) dan perkembangan (fungsi, kualitatif) terjadi dari tahap pranatal (zigot hingga janin) ke pascanatal (bayi hingga lansia). Pubertas adalah masa pematangan seksual yang dipicu oleh hormon GnRH, LH, FSH, testosteron (pria), dan estrogen (wanita).</span></li>
                    <li class="flex items-start"><span class="mr-3 text-blue-600 font-bold">2.</span><span><strong>Hewan:</strong> Perkembangan embrio bisa secara ovipar (bertelur), vivipar (beranak), atau ovovivipar (bertelur-beranak). Banyak hewan mengalami metamorfosis (sempurna, tidak sempurna, atau tanpa metamorfosis) yang diatur oleh hormon ekdison dan juvenil.</span></li>
                    <li class="flex items-start"><span class="mr-3 text-blue-600 font-bold">3.</span><span><strong>Tumbuhan:</strong> Mengalami pertumbuhan primer (pemanjangan) oleh meristem apikal dan sekunder (pelebaran) oleh meristem lateral (kambium). Pertumbuhan ini sangat dipengaruhi oleh faktor internal (gen, hormon seperti auksin, giberelin, dll.) dan faktor eksternal (cahaya, air, nutrisi, suhu).</span></li>
                </ul>
            </div>
        </section>

        <!-- Quiz Section -->
        <section id="quiz" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-12">Uji Pemahaman</h2>
            <div class="content-card">
                <div id="quiz-score" class="text-center mb-8 hidden">
                    <h3 class="text-2xl font-bold">Hasil Kuis</h3>
                    <p class="text-5xl font-bold text-blue-600 my-2" id="score-text"></p>
                    <p class="text-slate-600" id="score-feedback"></p>
                    <button id="retry-quiz-btn" class="mt-4 bg-slate-200 text-slate-800 px-6 py-2 rounded-full hover:bg-slate-300 transition-colors duration-300 font-semibold">Ulangi Kuis</button>
                </div>
                <div id="quiz-container" class="space-y-8">
                    <!-- Questions will be injected by JS -->
                </div>
                <div id="submit-btn-container" class="text-center mt-10">
                    <button id="submit-quiz-btn" class="bg-blue-600 text-white px-8 py-3 rounded-full hover:bg-blue-700 transition-colors duration-300 font-semibold">Kumpulkan Jawaban</button>
                </div>
            </div>
        </section>

        <!-- Latihan Section -->
        <section id="latihan">
            <h2 class="text-3xl font-bold text-center mb-12">Latihan Pemahaman</h2>
            <div class="content-card bg-green-50 border border-green-200 space-y-8">
                <div id="latihan-container" class="space-y-8">
                    <!-- Questions will be injected by JS -->
                </div>
                <div class="text-center mt-10 border-t pt-8">
                    <button id="collect-answers-btn" class="bg-green-600 text-white px-8 py-3 rounded-full hover:bg-green-700 transition-colors duration-300 font-semibold">Kumpulkan & Salin Jawaban</button>
                </div>
                <div id="collected-answers-container" class="hidden mt-6">
                    <h4 class="font-bold text-lg">Jawaban Terkumpul:</h4>
                    <pre id="collected-answers-text" class="bg-white p-4 rounded-lg mt-2 whitespace-pre-wrap font-sans text-sm"></pre>
                    <p class="text-xs text-center mt-2 text-slate-500">Salin teks di atas dan simpan di catatanmu.</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-slate-400 text-center p-6 mt-20">
        <p>&copy; 2024 @AgungFebrian | MafyaCode</p>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="fixed bottom-5 right-5 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition opacity-0 transform translate-y-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" /></svg>
    </button>

    <script>
        // --- Mobile Menu Toggle ---
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

        // --- Animation on Scroll ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.content-card').forEach(card => {
            observer.observe(card);
        });

        // --- Quiz Logic ---
        const quizData = [
            { question: "Proses pematangan fungsi organ reproduksi pada masa remaja disebut...", options: ["Pertumbuhan", "Perkembangan"], correct: 1, explanation: "Pematangan fungsi organ adalah ciri dari perkembangan, bukan pertumbuhan yang hanya mengacu pada ukuran fisik." },
            { question: "Hormon yang mempertahankan sifat larva dan mencegah metamorfosis terlalu cepat pada serangga adalah...", options: ["Ekdison", "Testosteron", "Hormon Juvenil", "Estrogen"], correct: 2, explanation: "Hormon juvenil menjaga agar serangga tetap dalam fase larva. Penurunan kadar hormon inilah yang memicu perubahan ke tahap pupa." },
            { question: "Aktivitas kambium vaskular pada batang tumbuhan dikotil akan menghasilkan...", options: ["Pertambahan tinggi tanaman", "Pembentukan bunga", "Pertambahan diameter batang", "Pembentukan akar lateral"], correct: 2, explanation: "Kambium adalah meristem lateral yang bertanggung jawab atas pertumbuhan sekunder, yaitu pelebaran atau pertambahan diameter batang." },
            { question: "Seorang anak yang belajar mengendarai sepeda menunjukkan contoh dari...", options: ["Pertumbuhan motorik", "Perkembangan motorik", "Pertumbuhan kognitif", "Perkembangan sensorik"], correct: 1, explanation: "Belajar keterampilan baru seperti mengendarai sepeda adalah contoh perkembangan kemampuan motorik, yaitu pematangan koordinasi otot dan saraf." },
            { question: "Fenomena batang tanaman yang tumbuh membengkok ke arah datangnya cahaya diatur oleh hormon...", options: ["Giberelin", "Sitokinin", "Etilen", "Auksin"], correct: 3, explanation: "Auksin akan berpindah ke sisi batang yang tidak terkena cahaya, menyebabkan sel di sisi gelap memanjang lebih cepat sehingga batang membengkok ke arah cahaya." }
        ];
        const quizContainer = document.getElementById('quiz-container');
        const submitBtn = document.getElementById('submit-quiz-btn');
        const submitBtnContainer = document.getElementById('submit-btn-container');
        const quizScoreDiv = document.getElementById('quiz-score');
        const scoreText = document.getElementById('score-text');
        const scoreFeedback = document.getElementById('score-feedback');
        const retryBtn = document.getElementById('retry-quiz-btn');

        function renderQuiz() {
            quizContainer.innerHTML = '';
            quizData.forEach((item, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.id = `question-${index}`;
                let optionsHtml = '';
                item.options.forEach((option, optionIndex) => {
                    optionsHtml += `<label class="flex items-center p-3 rounded-lg border quiz-option"><input type="radio" name="q${index}" value="${optionIndex}" class="mr-3"><span>${option}</span></label>`;
                });
                questionDiv.innerHTML = `<p class="font-semibold mb-3">${index + 1}. ${item.question}</p><div class="space-y-2">${optionsHtml}</div><div class="answer-explanation hidden mt-4"><b>Penjelasan:</b> ${item.explanation}</div>`;
                quizContainer.appendChild(questionDiv);
            });
        }
        
        submitBtn.addEventListener('click', () => {
            let score = 0;
            quizData.forEach((item, index) => {
                const qDiv = document.getElementById(`question-${index}`);
                const selectedRadio = qDiv.querySelector(`input[name="q${index}"]:checked`);
                qDiv.querySelector('.answer-explanation').classList.remove('hidden');
                const options = qDiv.querySelectorAll('.quiz-option');
                if (selectedRadio) {
                    const selectedAnswer = parseInt(selectedRadio.value);
                    if (selectedAnswer === item.correct) {
                        score++;
                        options[selectedAnswer].classList.add('correct');
                    } else {
                        options[selectedAnswer].classList.add('incorrect');
                        options[item.correct].classList.add('correct');
                    }
                } else {
                    options[item.correct].classList.add('correct');
                }
            });
            const finalScore = (score / quizData.length) * 100;
            scoreText.textContent = `${finalScore.toFixed(0)}`;
            if (finalScore === 100) scoreFeedback.textContent = "Sempurna! Kamu benar-benar menguasai materi ini.";
            else if (finalScore >= 80) scoreFeedback.textContent = "Luar biasa! Pemahamanmu sangat baik.";
            else if (finalScore >= 60) scoreFeedback.textContent = "Bagus! Terus tingkatkan lagi belajarmu.";
            else scoreFeedback.textContent = "Jangan menyerah! Coba pelajari lagi materinya dan ulangi kuis ini.";
            quizScoreDiv.classList.remove('hidden');
            submitBtnContainer.classList.add('hidden');
            window.location.href = '#quiz-score';
        });

        retryBtn.addEventListener('click', () => {
            quizScoreDiv.classList.add('hidden');
            submitBtnContainer.classList.remove('hidden');
            renderQuiz();
        });

        // --- Latihan Logic ---
        const latihanData = [
            "Bayi Prematur: Seorang bayi lahir pada usia kandungan 7 bulan. Mengapa organ-organ seperti paru-paru dan sistem pencernaannya seringkali belum berfungsi sempurna? Hubungkan jawabanmu dengan konsep organogenesis pada tahap perkembangan embrio.",
            "Hormon Remaja: Jelaskan alur kerja hormon dari otak (hipotalamus) hingga ke organ reproduksi yang menyebabkan Budi (seorang remaja laki-laki) mengalami perubahan suara dan tumbuhnya jakun.",
            "Strategi Kupu-Kupu: Larva (ulat) dan imago (kupu-kupu) memiliki bentuk dan cara makan yang sangat berbeda. Dari sudut pandang ekologi, apa keuntungan strategi ini bagi kelangsungan hidup spesies kupu-kupu?",
            "Pohon Jati di Musim Kemarau: Pohon jati menggugurkan daunnya saat musim kemarau. Hormon apakah yang berperan dominan dalam proses ini dan mengapa strategi ini penting bagi tumbuhan?",
            "Petani Anggur Tanpa Biji: Seorang petani ingin memproduksi buah anggur berukuran besar namun tanpa biji. Hormon tumbuhan apakah yang dapat ia gunakan untuk mencapai tujuan ini? Jelaskan mekanismenya.",
            "Etiolasi: Kecambah yang tumbuh di tempat gelap akan tampak pucat, kurus, dan batangnya sangat panjang. Fenomena ini disebut etiolasi. Mengapa hal ini terjadi dan apa hubungannya dengan hormon auksin dan ketiadaan cahaya?",
            "Regenerasi Cicak: Seekor cicak dapat menumbuhkan kembali ekornya yang putus. Apakah proses ini termasuk pertumbuhan atau perkembangan? Berikan alasanmu.",
            "Lingkaran Tahun: Seorang peneliti menemukan fosil batang pohon. Lingkaran tahunnya menunjukkan ada beberapa bagian yang sangat sempit dan beberapa bagian yang sangat lebar. Informasi apa tentang iklim masa lalu yang bisa didapat dari penemuan ini?",
            "Ovipar vs Vivipar: Hewan vivipar (mamalia) umumnya menghasilkan lebih sedikit anak dalam sekali reproduksi dibandingkan hewan ovipar (ikan). Mengapa demikian? Hubungkan dengan tingkat perlindungan dan energi yang diinvestasikan pada embrio.",
            "Dominansi Apikal: Jika pucuk utama sebuah tanaman dipotong, tunas-tunas samping akan mulai tumbuh lebat, membuat tanaman menjadi rimbun. Jelaskan fenomena dominansi apikal ini dan peran hormon auksin di dalamnya."
        ];
        const latihanContainer = document.getElementById('latihan-container');
        const collectBtn = document.getElementById('collect-answers-btn');
        const collectedContainer = document.getElementById('collected-answers-container');
        const collectedText = document.getElementById('collected-answers-text');

        function renderLatihan() {
            latihanContainer.innerHTML = '';
            latihanData.forEach((q, i) => {
                const div = document.createElement('div');
                div.innerHTML = `<p class="font-semibold text-slate-800 mb-2">${i + 1}. ${q.split(': ')[0]}:</p><p class="text-slate-700 mb-3">${q.split(': ')[1]}</p><textarea id="latihan-answer-${i}" rows="3" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Ketik jawabanmu di sini..."></textarea>`;
                latihanContainer.appendChild(div);
            });
        }
        
        collectBtn.addEventListener('click', () => {
            let allAnswers = '';
            latihanData.forEach((q, i) => {
                const answer = document.getElementById(`latihan-answer-${i}`).value;
                allAnswers += `Pertanyaan ${i + 1}:\n${q}\n\nJawaban:\n${answer || '(Tidak dijawab)'}\n\n---\n\n`;
            });
            collectedText.textContent = allAnswers;
            collectedContainer.classList.remove('hidden');
            navigator.clipboard.writeText(allAnswers).then(() => {
                collectBtn.textContent = 'Jawaban Disalin!';
                setTimeout(() => { collectBtn.textContent = 'Kumpulkan & Salin Jawaban'; }, 2000);
            });
        });

        // --- Initial Renders ---
        document.addEventListener('DOMContentLoaded', () => {
            renderQuiz();
            renderLatihan();
        });

        // --- Back to Top Button ---
        const backToTopButton = document.getElementById('back-to-top');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) backToTopButton.classList.remove('opacity-0', 'translate-y-2');
            else backToTopButton.classList.add('opacity-0', 'translate-y-2');
        });
        backToTopButton.addEventListener('click', () => window.scrollTo(0, 0));
    </script>

</body>
</html>
